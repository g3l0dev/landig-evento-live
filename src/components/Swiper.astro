---
import testimonios from "../data/testimonios.json";
---

<style>
  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;
    background: #fff;
    display: flex;
    flex-flow: column;
    justify-content: center;
    align-items: center;
    padding:1rem 3rem;
    height: 100%;
  }

  .swiper-slide img {
    display: block;
    width: auto;
    height: 8rem;
    object-fit: cover;
  }
  .swiper-slide h3 {
    display: block;
    margin-block: 1em;
    font-size: 1.17em;
    font-weight: bold;
    line-height: 1.4;
  }
  .swiper-slide small {
    font-weight: 600;
    display: block;
    margin-block: 0.5em;
    line-height: 1.4;
  }
  .swiper-slide p {
    display: block;
    margin-block: 1em;
    text-wrap:pretty;
    line-height: 1.4;
  }
  .swiper-slide .logo {
    aspect-ratio: 16/9;
    min-height: 48px;
    object-fit: scale-down;
  }
</style>

<div>
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      {
        testimonios.map(({ name, image, text, puesto, logo }) => (
          <div class="swiper-slide">
            <img src={`/images/testimonios/${image}.avif`} alt={name} />
            <div>
              <h3>{name}</h3>
              <small>{puesto}</small>
            </div>
            <p>{text}</p>
            <img class="logo" src={`/images/testimonios/logos/${logo}.webp`} alt="logo" />
          </div>
        ))
      }
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

<script type="module">
  const swiper = new Swiper('.swiper', {
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  })
</script>
